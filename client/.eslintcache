[{"D:\\React Projects\\avi-social-media\\server\\client\\src\\index.js":"1","D:\\React Projects\\avi-social-media\\server\\client\\src\\App.js":"2","D:\\React Projects\\avi-social-media\\server\\client\\src\\components\\Navbar.js":"3","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\Home.js":"4","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\Signup.js":"5","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\Login.js":"6","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\Profile.js":"7","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\CreatePost.js":"8","D:\\React Projects\\avi-social-media\\server\\client\\src\\reducers\\userReducer.js":"9","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\UserProfile.js":"10","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\MyFeed.js":"11","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\ResetPassword.js":"12","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\NewPassword.js":"13","E:\\avi-social-media\\server\\client\\src\\index.js":"14","E:\\avi-social-media\\server\\client\\src\\App.js":"15","E:\\avi-social-media\\server\\client\\src\\reducers\\userReducer.js":"16","E:\\avi-social-media\\server\\client\\src\\screens\\Profile.js":"17","E:\\avi-social-media\\server\\client\\src\\screens\\Login.js":"18","E:\\avi-social-media\\server\\client\\src\\screens\\Home.js":"19","E:\\avi-social-media\\server\\client\\src\\components\\Navbar.js":"20","E:\\avi-social-media\\server\\client\\src\\screens\\Signup.js":"21","E:\\avi-social-media\\server\\client\\src\\screens\\CreatePost.js":"22","E:\\avi-social-media\\server\\client\\src\\screens\\MyFeed.js":"23","E:\\avi-social-media\\server\\client\\src\\screens\\ResetPassword.js":"24","E:\\avi-social-media\\server\\client\\src\\screens\\NewPassword.js":"25","E:\\avi-social-media\\server\\client\\src\\screens\\UserProfile.js":"26"},{"size":201,"mtime":1608746824149,"results":"27","hashOfConfig":"28"},{"size":2129,"mtime":1609422139930,"results":"29","hashOfConfig":"28"},{"size":5507,"mtime":1609438476437,"results":"30","hashOfConfig":"28"},{"size":8294,"mtime":1609430405004,"results":"31","hashOfConfig":"28"},{"size":4204,"mtime":1609428892751,"results":"32","hashOfConfig":"28"},{"size":2985,"mtime":1609428835857,"results":"33","hashOfConfig":"28"},{"size":5764,"mtime":1609356429607,"results":"34","hashOfConfig":"28"},{"size":2824,"mtime":1608912912601,"results":"35","hashOfConfig":"28"},{"size":557,"mtime":1609354335936,"results":"36","hashOfConfig":"28"},{"size":4754,"mtime":1609339238227,"results":"37","hashOfConfig":"28"},{"size":8236,"mtime":1609340064122,"results":"38","hashOfConfig":"28"},{"size":1940,"mtime":1609425926346,"results":"39","hashOfConfig":"28"},{"size":1719,"mtime":1609425382662,"results":"40","hashOfConfig":"28"},{"size":201,"mtime":1608746824149,"results":"41","hashOfConfig":"42"},{"size":2129,"mtime":1609422139930,"results":"43","hashOfConfig":"42"},{"size":557,"mtime":1609354335936,"results":"44","hashOfConfig":"42"},{"size":5764,"mtime":1609356429607,"results":"45","hashOfConfig":"42"},{"size":2985,"mtime":1609428835857,"results":"46","hashOfConfig":"42"},{"size":8294,"mtime":1609430405004,"results":"47","hashOfConfig":"42"},{"size":5507,"mtime":1609438476437,"results":"48","hashOfConfig":"42"},{"size":4204,"mtime":1609428892751,"results":"49","hashOfConfig":"42"},{"size":2824,"mtime":1608912912601,"results":"50","hashOfConfig":"42"},{"size":8236,"mtime":1609340064122,"results":"51","hashOfConfig":"42"},{"size":1940,"mtime":1609425926346,"results":"52","hashOfConfig":"42"},{"size":1719,"mtime":1609425382662,"results":"53","hashOfConfig":"42"},{"size":4754,"mtime":1609339238227,"results":"54","hashOfConfig":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},"d7l1ez",{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"57"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"57"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"57"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"57"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"17154lw",{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"94","messages":"95","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"96","messages":"97","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"104","messages":"105","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\React Projects\\avi-social-media\\server\\client\\src\\index.js",[],["112","113"],"D:\\React Projects\\avi-social-media\\server\\client\\src\\App.js",["114","115"],"D:\\React Projects\\avi-social-media\\server\\client\\src\\components\\Navbar.js",[],"D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\Home.js",["116","117"],"D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\Signup.js",["118","119","120"],"D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\Login.js",["121","122","123"],"D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\Profile.js",["124"],"import React, { useState, useEffect, useContext } from \"react\";\r\nimport {UserContext} from '../App'\r\nimport \"./Profile.css\";\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport * as ReactBootstrap from 'react-bootstrap';\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\ntoast.configure()\r\nconst Profile = () => {\r\n\r\n  const {state, dispatch} = useContext(UserContext)\r\n  const [posts, setPosts] = useState([]);\r\n  //console.log(posts)\r\n  //console.log(state)\r\n  const[propic, setPropic]=useState(\"\")\r\n  //const[propicurl, setPropicurl]=useState(\"\")\r\n\r\n  useEffect(() => {\r\n    fetch(\"/api/v1/myposts\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPosts(result.myposts);\r\n      });\r\n  }, []);\r\n\r\n  \r\n\r\n//modal\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n//modal close\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if(propic) {\r\n      const data = new FormData();\r\n      data.append(\"file\", propic);\r\n      data.append(\"upload_preset\", \"avi-social-media\");\r\n      data.append(\"cloud_name\", \"prochesta-eis\");\r\n\r\n      fetch(\"https://api.cloudinary.com/v1_1/prochesta-eis/image/upload\", {\r\n        method: \"post\",\r\n        body: data,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          toast(\"Uploading new profile picture\", {\r\n            position: toast.POSITION.TOP_CENTER,\r\n          });\r\n          //console.log(data)\r\n          //localStorage.setItem(\"user\",JSON.stringify({...state,profilepic:data.url}))\r\n          //dispatch({type:\"UPDATEPROPIC\", payload:data.url})\r\n          fetch(\"/api/v1/updateprofilepic\",{\r\n            method:\"put\",\r\n            headers:{\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n            },\r\n            body: JSON.stringify({\r\n              profilepic:data.url\r\n            })\r\n          }).then(res=>res.json()).then(result => {\r\n            //console.log(result)\r\n            localStorage.setItem(\"user\",JSON.stringify({...state,profilepic:result.profilepic}))\r\n            dispatch({type:\"UPDATEPROPIC\", payload:result.profilepic})\r\n          })\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [propic])\r\n\r\n  const change_profilepic = (file) => {\r\n    setPropic(file)\r\n    handleClose()\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"container\" id=\"profile\">\r\n      <div className=\"sidebar\">\r\n        <div className=\"sidebar__top\">\r\n          <img\r\n            src=\"https://1stwebdesigner.com/wp-content/uploads/2019/07/css-background-effects-thumb.jpg\"\r\n            alt=\"\"\r\n          />\r\n\r\n          <Avatar\r\n            className=\"sidebar__avatar\"\r\n            src={state ? state.profilepic : \"Loading\"}\r\n          >{state ? state.name[0] : \"Loading\"}</Avatar>\r\n          \r\n          <button className=\"update_profilepic\" onClick={handleShow}>\r\n            <FaceIcon/>\r\n          </button>\r\n\r\n          <ReactBootstrap.Modal show={show} onHide={handleClose}>\r\n            <ReactBootstrap.Modal.Header closeButton>\r\n              <ReactBootstrap.Modal.Title>Update Profile picture</ReactBootstrap.Modal.Title>\r\n            </ReactBootstrap.Modal.Header>\r\n            <div style={{display:\"flex\",justifyContent:\"center\", width:\"100%\", marginTop:\"10px\", marginBottom:\"10px\"}}>\r\n            <div className=\"file-input\" style={{width:\"70%\"}} >\r\n            <input\r\n              onChange={(e) => change_profilepic(e.target.files[0])}\r\n              id=\"file\" className=\"file\"\r\n              type=\"file\"\r\n            />\r\n            <label htmlFor=\"file\">\r\n              Select Profile Photo\r\n              <p className=\"file-name\"></p>\r\n            </label>\r\n            </div>\r\n            </div>\r\n            <ReactBootstrap.Modal.Footer>\r\n              <div style={{width:\"100%\", display:\"flex\", justifyContent:\"space-evenly\"}} >\r\n              <ReactBootstrap.Button variant=\"secondary\" onClick={handleClose}>\r\n                Close\r\n              </ReactBootstrap.Button>\r\n              {/*<ReactBootstrap.Button variant=\"primary\" onClick={change_profilepic}>\r\n                Upload\r\n              </ReactBootstrap.Button>*/}\r\n              </div>\r\n            </ReactBootstrap.Modal.Footer>\r\n          </ReactBootstrap.Modal>\r\n\r\n\r\n\r\n          <h2>{state ? state.name : \"Loading\"}</h2>\r\n          <h4>{state ? state.email : \"Loading\"}</h4>\r\n        </div>\r\n        <div className=\"sidebar__stats\">\r\n          <div className=\"sidebar__stat\">\r\n            <p>Posts</p>\r\n            <p className=\"sidebar__statNumber\">{posts.length}</p>\r\n          </div>\r\n          <div className=\"sidebar__stat\">\r\n            <p>Followers</p>\r\n            <p className=\"sidebar__statNumber\">{state ? state.followers.length : \"Loading\"}</p>\r\n          </div>\r\n          <div className=\"sidebar__stat\">\r\n            <p>Following</p>\r\n            <p className=\"sidebar__statNumber\">{state ? state.following.length : \"Loading\"}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n        <div className=\"user__posts\">\r\n            <div className=\"user__uploads\">\r\n              {\r\n                posts.map((post) => {\r\n                    return(\r\n                      <img\r\n                          key={post._id}\r\n                          src={post.photo}\r\n                          alt={post.title}\r\n                      />\r\n                    )\r\n                })\r\n\r\n              }\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\CreatePost.js",["125"],"import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\ntoast.configure();\r\n\r\nconst CreatePost = () => {\r\n  const history = useHistory();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if(url) {\r\n\r\n    fetch(\"/api/v1/createpost\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        title: title,\r\n        body: body,\r\n        photo: url,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          toast.error(data.error, { position: toast.POSITION.TOP_CENTER });\r\n        } else {\r\n          toast.success(\"New Post uploaded!!!\", {\r\n            position: toast.POSITION.TOP_CENTER,\r\n          });\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n      \r\n    }\r\n  }, [url]);\r\n\r\n  const postDetails = () => {\r\n    const data = new FormData();\r\n    data.append(\"file\", image);\r\n    data.append(\"upload_preset\", \"avi-social-media\");\r\n    data.append(\"cloud_name\", \"prochesta-eis\");\r\n\r\n     fetch(\"https://api.cloudinary.com/v1_1/prochesta-eis/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        toast(\"Posting!!!\", {\r\n          position: toast.POSITION.TOP_CENTER,\r\n        });\r\n        setUrl(data.url);\r\n        \r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"login create__post\">\r\n      <form>\r\n        <h2>Create New Post</h2>\r\n        <input\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n        />\r\n        <input\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n          type=\"text\"\r\n          placeholder=\"Description\"\r\n        />\r\n        <div className=\"file-input\">\r\n        <input\r\n          onChange={(e) => setImage(e.target.files[0])}\r\n          id=\"file\" className=\"file\"\r\n          type=\"file\"\r\n        />\r\n        <label htmlFor=\"file\">\r\n          Upload Photo\r\n          <p className=\"file-name\"></p>\r\n        </label>\r\n        </div>\r\n      </form>\r\n      <button\r\n        onClick={postDetails}\r\n        id=\"cretePost__button\"\r\n        className=\"register__button\"\r\n        type=\"submit\"\r\n      >\r\n        Submit\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","D:\\React Projects\\avi-social-media\\server\\client\\src\\reducers\\userReducer.js",[],"D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\UserProfile.js",["126"],"import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"./Profile.css\";\r\nimport {UserContext} from '../App'\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst UserProfile = () => {\r\n\r\n  const {state, dispatch} = useContext(UserContext)\r\n\r\n  const [posts, setPosts] = useState([]);\r\n  const { userid } = useParams();\r\n\r\n  //console.log(userid)\r\n  //console.log(posts)\r\n\r\n  const [showfollow, setShowfollow] = useState(state ? !state.following.includes(userid) : false)\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    fetch(`/api/v1/user/${userid}`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPosts(result);\r\n        //console.log(result)\r\n      });\r\n  }, []);\r\n\r\n\r\n  const followUser = () => {\r\n    fetch(\"/api/v1/follow\", {\r\n      method:\"put\",\r\n      headers:{\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        followId:userid,\r\n      })\r\n    }).then(res => res.json()).then(data =>{\r\n      //console.log(data)\r\n      setShowfollow(!showfollow)\r\n      dispatch({type:\"UPDATE\",payload:{following:data.following, followers:data.followers}})\r\n      localStorage.setItem(\"user\", JSON.stringify(data))\r\n      setPosts((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          user:{\r\n            ...prevState.user,\r\n            followers:[...prevState.user.followers,data._id]\r\n          }\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n  const unfollowUser = () => {\r\n    fetch(\"/api/v1/unfollow\", {\r\n      method:\"put\",\r\n      headers:{\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        unfollowId:userid,\r\n      })\r\n    }).then(res => res.json()).then(data =>{\r\n      console.log(data)\r\n      setShowfollow(!showfollow)\r\n      dispatch({type:\"UPDATE\",payload:{following:data.following, followers:data.followers}})\r\n      localStorage.setItem(\"user\", JSON.stringify(data))\r\n      \r\n      setPosts((prevState) => {\r\n        const newFollower = prevState.user.followers.filter(item => item !== data._id)\r\n        return {\r\n          ...prevState,\r\n          user:{\r\n            ...prevState.user,\r\n            followers:newFollower\r\n          }\r\n        }\r\n      })\r\n    })\r\n  }\r\n  \r\n\r\n  return (\r\n      \r\n        <div className=\"container\" id=\"profile\">\r\n          <div className=\"sidebar\">\r\n            <div className=\"sidebar__top\">\r\n              <img\r\n                src=\"https://1stwebdesigner.com/wp-content/uploads/2019/07/css-background-effects-thumb.jpg\"\r\n                alt=\"\"\r\n              />\r\n              <Avatar\r\n                className=\"sidebar__avatar\"\r\n                src={(posts.length === 0) ? \"Loading\" : posts.user.profilepic}\r\n              >\r\n                {\r\n                    (posts.length === 0) ? \"Loading\" : posts.user.name[0]\r\n                }\r\n              </Avatar>\r\n              <h2>{(posts.length === 0) ? \"Loading\" : posts.user.name}</h2>\r\n              <h4>{(posts.length === 0) ? \"Loading\" : posts.user.email}</h4>\r\n            </div>\r\n            <div className=\"sidebar__stats\">\r\n              <div className=\"sidebar__stat\">\r\n                <p>Posts</p>\r\n                <p className=\"sidebar__statNumber\">\r\n                  {(posts.length === 0) ? \"Loading\" : posts.posts.length}\r\n                </p>\r\n              </div>\r\n              <div className=\"sidebar__stat\">\r\n                <p>Followers</p>\r\n                <p className=\"sidebar__statNumber\">{(posts.length === 0) ? \"Loading\" : posts.user.followers.length}</p>\r\n              </div>\r\n              <div className=\"sidebar__stat\">\r\n                <p>Following</p>\r\n                <p className=\"sidebar__statNumber\">{(posts.length === 0) ? \"Loading\" : posts.user.following.length}</p>\r\n              </div>\r\n\r\n                {showfollow?\r\n                <button onClick={()=> followUser()} className=\"follow__button\">Follow</button>\r\n                :\r\n                <button onClick={()=> unfollowUser()} className=\"follow__button\">Unfollow</button>\r\n                }\r\n              \r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"user__posts\">\r\n            <div className=\"user__uploads\">\r\n              {\r\n                  (posts.length === 0) ? \"Loading\" : \r\n              posts.posts.map((post) => {\r\n                return <img key={post._id} src={post.photo} alt={post.title} />;\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\MyFeed.js",["127"],"import React, { useState, useEffect, useContext } from \"react\";\r\nimport \"./Home.css\";\r\nimport { Avatar } from \"@material-ui/core\";\r\n\r\nimport { ThumbUpAltOutlined } from \"@material-ui/icons\";\r\nimport { ThumbUpAlt } from \"@material-ui/icons\";\r\nimport { Delete } from \"@material-ui/icons\";\r\n\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css'\r\n\r\nimport { UserContext } from \"../App\";\r\nimport {Link} from 'react-router-dom';\r\n\r\ntoast.configure()\r\nconst Home = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [cmnt, setCmnt] = useState(\"\")\r\n\r\n\r\n  useEffect(() => {\r\n    fetch(\"/api/v1/myfeed\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setPosts(result.posts);\r\n      });\r\n  }, []);\r\n\r\n  //like post route handling\r\n\r\n  const likepost = (id) => {\r\n    fetch(\"/api/v1/like\", {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        //console.log(result);\r\n        const newData = posts.map((post) => {\r\n          if (post._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return post;\r\n          }\r\n        });\r\n        setPosts(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  //unlike post route handling\r\n\r\n  const unlikepost = (id) => {\r\n    fetch(\"/api/v1/unlike\", {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        //console.log(result);\r\n        const newData = posts.map((post) => {\r\n          if (post._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return post;\r\n          }\r\n        });\r\n        setPosts(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  //UserContext for detecting User in likes array\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  //comment\r\n\r\n  const makeComment = (text, postId) => {\r\n    fetch(\"/api/v1/comment\", {\r\n      method: \"put\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: postId,\r\n        text: text,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        //console.log(result);\r\n        setCmnt(\"\")\r\n        const newData = posts.map((post) => {\r\n          if (post._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return post;\r\n          }\r\n        });\r\n        setPosts(newData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n\r\n\r\n  //Delete Post\r\n\r\n  const deletePost = (postID) => {\r\n    fetch(`/api/v1/deletepost/${postID}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        //console.log(result);\r\n        toast.success(result.message, {position: toast.POSITION.TOP_CENTER})\r\n        const newData = posts.filter((post) => {\r\n          return post._id !== result.data._id;\r\n        });\r\n        setPosts(newData);\r\n      });\r\n  };\r\n\r\n\r\n\r\n\r\n  //Delete Comment\r\n\r\n  const deleteComment = (postid, commentid) => {\r\n   \r\n    fetch(`/api/v1/deletecomment/${postid}/${commentid}`, {\r\n      method: \"delete\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n             const newData = posts.map((item) => {\r\n\r\n          if (item._id === result._id) {\r\n                     return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setPosts(newData);\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"container\" id=\"post__container\">\r\n      {posts.map((post) => {\r\n        return (\r\n          <div className=\"post\" key={post._id}>\r\n            <div className=\"master__header\">\r\n              <div className=\"post__header\">\r\n                <Link to={post.postedBy._id !== state._id ? \"/profile/\"+post.postedBy._id : \"/profile\"} style={{textDecoration: \"none\", color: \"inherit\"}} >\r\n                <Avatar src={post.postedBy.profilepic}>\r\n                  {post.postedBy.name[0]}\r\n                </Avatar>\r\n                </Link>\r\n                <div className=\"post__info\">\r\n                  <Link to={post.postedBy._id !== state._id ? \"/profile/\"+post.postedBy._id : \"/profile\"} style={{textDecoration: \"none\", color: \"inherit\", fontSize:\"inherit\"}} >\r\n                  <h2 style={{ color: \"#005cb8\", fontWeight: \"700\", fontSize:\"14px\" }}>\r\n                    {post.postedBy.name}\r\n                  </h2>\r\n                  </Link>\r\n                  <p>{post.postedBy.email}</p>\r\n                </div>\r\n\r\n              </div>\r\n              {post.postedBy._id === state._id && (\r\n                <button\r\n                  onClick={() => deletePost(post._id)}\r\n                  className=\"deletepost__button\"\r\n                >\r\n                  <Delete style={{ color: \"red\", fontSize:\"32px\" }} />\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"post__body\">\r\n              <img src={post.photo} alt=\"\" />\r\n              <h5>{post.title}</h5>\r\n              <p style={{ marginTop: \"10px\", fontWeight: \"500\" }}>\r\n                {post.body}\r\n              </p>\r\n            </div>\r\n            <hr />\r\n            <div className=\"post__buttons\">\r\n              {post.likes.includes(state._id) ? (\r\n                <button onClick={(e) => unlikepost(post._id)}>\r\n                  <ThumbUpAlt />\r\n                </button>\r\n              ) : (\r\n                <button onClick={(e) => likepost(post._id)}>\r\n                  <ThumbUpAltOutlined />\r\n                </button>\r\n              )}\r\n\r\n              <div className=\"post__likeCounts\">\r\n                <h3>Likes: {post.likes.length}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <form\r\n              className=\"post__comment\"\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                makeComment(e.target[0].value, post._id);\r\n              }}\r\n            >\r\n              <input value={cmnt} onChange={e=>setCmnt(e.target.value)} type=\"text\" placeholder=\"Add comment\" />\r\n            </form>\r\n\r\n            {post.comments.map((record) => {\r\n              return (\r\n                <div className=\"comment__functions\" key={record._id} >\r\n                  <h6\r\n                    key={record._id}\r\n                    style={{ marginTop: \"10px\", fontWeight: \"400\" }}\r\n                  >\r\n                    {record.postedBy._id === post.postedBy._id ? (\r\n                      <span style={{ fontWeight: \"700\", color: \"#005cb8\" }}>\r\n                        OP {record.postedBy.name}:{\" \"}\r\n                      </span>\r\n                    ) : (\r\n                      <span style={{ fontWeight: \"700\" }}>\r\n                        {record.postedBy.name}:{\" \"}\r\n                      </span>\r\n                    )}\r\n                    {record.text}\r\n                  </h6>\r\n\r\n                  {record.postedBy._id === state._id && (\r\n                    <button\r\n                      onClick={() => deleteComment(post._id,record._id)}\r\n                      className=\"deletepost__button\"\r\n                    >\r\n                      <Delete style={{fontSize:\"20px\"}} />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\ResetPassword.js",["128","129"],"D:\\React Projects\\avi-social-media\\server\\client\\src\\screens\\NewPassword.js",[],"E:\\avi-social-media\\server\\client\\src\\index.js",[],"E:\\avi-social-media\\server\\client\\src\\App.js",["130","131"],"E:\\avi-social-media\\server\\client\\src\\reducers\\userReducer.js",[],"E:\\avi-social-media\\server\\client\\src\\screens\\Profile.js",["132"],"E:\\avi-social-media\\server\\client\\src\\screens\\Login.js",["133","134","135"],"E:\\avi-social-media\\server\\client\\src\\screens\\Home.js",["136","137"],"E:\\avi-social-media\\server\\client\\src\\components\\Navbar.js",[],"E:\\avi-social-media\\server\\client\\src\\screens\\Signup.js",["138","139","140"],"E:\\avi-social-media\\server\\client\\src\\screens\\CreatePost.js",["141"],"E:\\avi-social-media\\server\\client\\src\\screens\\MyFeed.js",["142"],"E:\\avi-social-media\\server\\client\\src\\screens\\ResetPassword.js",["143","144"],"E:\\avi-social-media\\server\\client\\src\\screens\\NewPassword.js",[],"E:\\avi-social-media\\server\\client\\src\\screens\\UserProfile.js",["145"],{"ruleId":"146","replacedBy":"147"},{"ruleId":"148","replacedBy":"149"},{"ruleId":"150","severity":1,"message":"151","line":20,"column":10,"nodeType":"152","messageId":"153","endLine":20,"endColumn":15},{"ruleId":"154","severity":1,"message":"155","line":32,"column":5,"nodeType":"156","endLine":32,"endColumn":7,"suggestions":"157"},{"ruleId":"150","severity":1,"message":"158","line":15,"column":13,"nodeType":"152","messageId":"153","endLine":15,"endColumn":27},{"ruleId":"150","severity":1,"message":"159","line":97,"column":18,"nodeType":"152","messageId":"153","endLine":97,"endColumn":26},{"ruleId":"154","severity":1,"message":"160","line":23,"column":6,"nodeType":"156","endLine":23,"endColumn":17,"suggestions":"161"},{"ruleId":"162","severity":1,"message":"163","line":52,"column":19,"nodeType":"164","messageId":"165","endLine":52,"endColumn":20,"suggestions":"166"},{"ruleId":"162","severity":1,"message":"163","line":52,"column":44,"nodeType":"164","messageId":"165","endLine":52,"endColumn":45,"suggestions":"167"},{"ruleId":"150","severity":1,"message":"151","line":12,"column":10,"nodeType":"152","messageId":"153","endLine":12,"endColumn":15},{"ruleId":"162","severity":1,"message":"163","line":21,"column":21,"nodeType":"164","messageId":"165","endLine":21,"endColumn":22,"suggestions":"168"},{"ruleId":"162","severity":1,"message":"163","line":21,"column":46,"nodeType":"164","messageId":"165","endLine":21,"endColumn":47,"suggestions":"169"},{"ruleId":"154","severity":1,"message":"170","line":82,"column":6,"nodeType":"156","endLine":82,"endColumn":14,"suggestions":"171"},{"ruleId":"154","severity":1,"message":"172","line":46,"column":6,"nodeType":"156","endLine":46,"endColumn":11,"suggestions":"173"},{"ruleId":"154","severity":1,"message":"174","line":32,"column":6,"nodeType":"156","endLine":32,"endColumn":8,"suggestions":"175"},{"ruleId":"150","severity":1,"message":"159","line":94,"column":18,"nodeType":"152","messageId":"153","endLine":94,"endColumn":26},{"ruleId":"162","severity":1,"message":"163","line":16,"column":23,"nodeType":"164","messageId":"165","endLine":16,"endColumn":24,"suggestions":"176"},{"ruleId":"162","severity":1,"message":"163","line":16,"column":48,"nodeType":"164","messageId":"165","endLine":16,"endColumn":49,"suggestions":"177"},{"ruleId":"150","severity":1,"message":"151","line":20,"column":10,"nodeType":"152","messageId":"153","endLine":20,"endColumn":15},{"ruleId":"154","severity":1,"message":"155","line":32,"column":5,"nodeType":"156","endLine":32,"endColumn":7,"suggestions":"178"},{"ruleId":"154","severity":1,"message":"170","line":82,"column":6,"nodeType":"156","endLine":82,"endColumn":14,"suggestions":"179"},{"ruleId":"150","severity":1,"message":"151","line":12,"column":10,"nodeType":"152","messageId":"153","endLine":12,"endColumn":15},{"ruleId":"162","severity":1,"message":"163","line":21,"column":21,"nodeType":"164","messageId":"165","endLine":21,"endColumn":22,"suggestions":"180"},{"ruleId":"162","severity":1,"message":"163","line":21,"column":46,"nodeType":"164","messageId":"165","endLine":21,"endColumn":47,"suggestions":"181"},{"ruleId":"150","severity":1,"message":"158","line":15,"column":13,"nodeType":"152","messageId":"153","endLine":15,"endColumn":27},{"ruleId":"150","severity":1,"message":"159","line":97,"column":18,"nodeType":"152","messageId":"153","endLine":97,"endColumn":26},{"ruleId":"154","severity":1,"message":"160","line":23,"column":6,"nodeType":"156","endLine":23,"endColumn":17,"suggestions":"182"},{"ruleId":"162","severity":1,"message":"163","line":52,"column":19,"nodeType":"164","messageId":"165","endLine":52,"endColumn":20,"suggestions":"183"},{"ruleId":"162","severity":1,"message":"163","line":52,"column":44,"nodeType":"164","messageId":"165","endLine":52,"endColumn":45,"suggestions":"184"},{"ruleId":"154","severity":1,"message":"172","line":46,"column":6,"nodeType":"156","endLine":46,"endColumn":11,"suggestions":"185"},{"ruleId":"150","severity":1,"message":"159","line":94,"column":18,"nodeType":"152","messageId":"153","endLine":94,"endColumn":26},{"ruleId":"162","severity":1,"message":"163","line":16,"column":23,"nodeType":"164","messageId":"165","endLine":16,"endColumn":24,"suggestions":"186"},{"ruleId":"162","severity":1,"message":"163","line":16,"column":48,"nodeType":"164","messageId":"165","endLine":16,"endColumn":49,"suggestions":"187"},{"ruleId":"154","severity":1,"message":"174","line":32,"column":6,"nodeType":"156","endLine":32,"endColumn":8,"suggestions":"188"},"no-native-reassign",["189"],"no-negated-in-lhs",["190"],"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["191"],"'ReactBootstrap' is defined but never used.","'dispatch' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'uploadFields'. Either include it or remove the dependency array.",["192"],"no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["193","194"],["195","196"],["197","198"],["199","200"],"React Hook useEffect has missing dependencies: 'dispatch' and 'state'. Either include them or remove the dependency array.",["201"],"React Hook useEffect has missing dependencies: 'body', 'history', and 'title'. Either include them or remove the dependency array.",["202"],"React Hook useEffect has a missing dependency: 'userid'. Either include it or remove the dependency array.",["203"],["204","205"],["206","207"],["208"],["209"],["210","211"],["212","213"],["214"],["215","216"],["217","218"],["219"],["220","221"],["222","223"],["224"],"no-global-assign","no-unsafe-negation",{"desc":"225","fix":"226"},{"desc":"227","fix":"228"},{"messageId":"229","fix":"230","desc":"231"},{"messageId":"232","fix":"233","desc":"234"},{"messageId":"229","fix":"235","desc":"231"},{"messageId":"232","fix":"236","desc":"234"},{"messageId":"229","fix":"237","desc":"231"},{"messageId":"232","fix":"238","desc":"234"},{"messageId":"229","fix":"239","desc":"231"},{"messageId":"232","fix":"240","desc":"234"},{"desc":"241","fix":"242"},{"desc":"243","fix":"244"},{"desc":"245","fix":"246"},{"messageId":"229","fix":"247","desc":"231"},{"messageId":"232","fix":"248","desc":"234"},{"messageId":"229","fix":"249","desc":"231"},{"messageId":"232","fix":"250","desc":"234"},{"desc":"225","fix":"251"},{"desc":"241","fix":"252"},{"messageId":"229","fix":"253","desc":"231"},{"messageId":"232","fix":"254","desc":"234"},{"messageId":"229","fix":"255","desc":"231"},{"messageId":"232","fix":"256","desc":"234"},{"desc":"227","fix":"257"},{"messageId":"229","fix":"258","desc":"231"},{"messageId":"232","fix":"259","desc":"234"},{"messageId":"229","fix":"260","desc":"231"},{"messageId":"232","fix":"261","desc":"234"},{"desc":"243","fix":"262"},{"messageId":"229","fix":"263","desc":"231"},{"messageId":"232","fix":"264","desc":"234"},{"messageId":"229","fix":"265","desc":"231"},{"messageId":"232","fix":"266","desc":"234"},{"desc":"245","fix":"267"},"Update the dependencies array to be: [dispatch, history]",{"range":"268","text":"269"},"Update the dependencies array to be: [propicurl, uploadFields]",{"range":"270","text":"271"},"removeEscape",{"range":"272","text":"273"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"274","text":"275"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"276","text":"273"},{"range":"277","text":"275"},{"range":"278","text":"273"},{"range":"279","text":"275"},{"range":"280","text":"273"},{"range":"281","text":"275"},"Update the dependencies array to be: [dispatch, propic, state]",{"range":"282","text":"283"},"Update the dependencies array to be: [body, history, title, url]",{"range":"284","text":"285"},"Update the dependencies array to be: [userid]",{"range":"286","text":"287"},{"range":"288","text":"273"},{"range":"289","text":"275"},{"range":"290","text":"273"},{"range":"291","text":"275"},{"range":"292","text":"269"},{"range":"293","text":"283"},{"range":"294","text":"273"},{"range":"295","text":"275"},{"range":"296","text":"273"},{"range":"297","text":"275"},{"range":"298","text":"271"},{"range":"299","text":"273"},{"range":"300","text":"275"},{"range":"301","text":"273"},{"range":"302","text":"275"},{"range":"303","text":"285"},{"range":"304","text":"273"},{"range":"305","text":"275"},{"range":"306","text":"273"},{"range":"307","text":"275"},{"range":"308","text":"287"},[1088,1090],"[dispatch, history]",[592,603],"[propicurl, uploadFields]",[1282,1283],"",[1282,1282],"\\",[1307,1308],[1307,1307],[524,525],[524,524],[549,550],[549,549],[2493,2501],"[dispatch, propic, state]",[1223,1228],"[body, history, title, url]",[840,842],"[userid]",[371,372],[371,371],[396,397],[396,396],[1088,1090],[2493,2501],[524,525],[524,524],[549,550],[549,549],[592,603],[1282,1283],[1282,1282],[1307,1308],[1307,1307],[1223,1228],[371,372],[371,371],[396,397],[396,396],[840,842]]